{#def variant="glyph", name="", size="default", links={}, links_variant="list", container_class="", link_class="", icon_size="", label_class="", show_icons=None, show_labels=None #}

{% set size_classes = {
    "xs": "w-3 h-3",
    "sm": "w-4 h-4",
    "default": "w-5 h-5",
    "lg": "w-6 h-6"
} %}

{% if variant == "links" %}
{% set presets = {
    "list": {
        "container_class": "flex flex-col gap-4",
        "link_class": "text-gray-400 hover:text-white transition-colors flex items-center gap-2",
        "icon_size": "default",
        "label_class": "",
        "show_icons": True,
        "show_labels": True
    },
    "icons_inline": {
        "container_class": "flex flex-wrap gap-2",
        "link_class": "text-gray-400 hover:text-white transition-colors inline-flex items-center justify-center",
        "icon_size": "sm",
        "label_class": "sr-only",
        "show_icons": True,
        "show_labels": True
    },
    "labels_inline": {
        "container_class": "flex gap-4",
        "link_class": "hover:text-white transition-colors",
        "icon_size": "default",
        "label_class": "",
        "show_icons": False,
        "show_labels": True
    }
} %}

{% set preset = presets.get(links_variant, presets.list) %}
{% set final_container_class = container_class or preset.container_class %}
{% set final_link_class = link_class or preset.link_class %}
{% set final_icon_size = icon_size or preset.icon_size %}
{% set final_label_class = label_class or preset.label_class %}
{% set final_show_icons = preset.show_icons if show_icons is none else show_icons %}
{% set final_show_labels = preset.show_labels if show_labels is none else show_labels %}

<div class="{{ final_container_class }}" role="list" aria-label="Social links">
    {% for label, url in links.items() %}
    {% set normalized = label | lower %}
    {% set icon_name = (
        "github" if normalized == "github"
        else "linkedin" if normalized == "linkedin"
        else "twitter" if normalized in ("x", "twitter")
        else "email" if normalized == "email"
        else ""
    ) %}
    {% set icon_class = size_classes.get(final_icon_size, size_classes.default) %}
    <a
        href="{{ url }}"
        target="_blank"
        rel="noopener noreferrer"
        class="{{ final_link_class }}"
        aria-label="{{ label | title }}"
    >
        {% if final_show_icons and icon_name %}
            {% if icon_name == "github" %}
            <svg xmlns="http://www.w3.org/2000/svg" class="{{ icon_class }}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg>
            {% elif icon_name == "linkedin" %}
            <svg xmlns="http://www.w3.org/2000/svg" class="{{ icon_class }}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect width="4" height="12" x="2" y="9"></rect><circle cx="4" cy="4" r="2"></circle></svg>
            {% elif icon_name == "email" %}
            <svg xmlns="http://www.w3.org/2000/svg" class="{{ icon_class }}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="16" x="2" y="4" rx="2"></rect><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path></svg>
            {% elif icon_name == "twitter" %}
            <svg xmlns="http://www.w3.org/2000/svg" class="{{ icon_class }}" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"/></svg>
            {% endif %}
        {% endif %}
        {% if final_show_labels or not icon_name %}
        <span class="{{ final_label_class }}">{{ label | title }}</span>
        {% endif %}
    </a>
    {% endfor %}
</div>
{% else %}
{% set sz = size_classes.get(size, size_classes.default) %}

{% if name == "github" %}
<svg xmlns="http://www.w3.org/2000/svg" class="{{ sz }}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg>
{% elif name == "linkedin" %}
<svg xmlns="http://www.w3.org/2000/svg" class="{{ sz }}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect width="4" height="12" x="2" y="9"></rect><circle cx="4" cy="4" r="2"></circle></svg>
{% elif name == "email" %}
<svg xmlns="http://www.w3.org/2000/svg" class="{{ sz }}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="16" x="2" y="4" rx="2"></rect><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path></svg>
{% elif name == "twitter" %}
<svg xmlns="http://www.w3.org/2000/svg" class="{{ sz }}" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"/></svg>
{% else %}
<span class="{{ sz }}"></span>
{% endif %}
{% endif %}
