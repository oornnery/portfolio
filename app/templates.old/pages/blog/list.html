{% extends "base.html" %}

{% block title %}Blog{% endblock %}

{% block content %}
<section class="fade-in">
    <h1 class="text-center mb-2">Blog</h1>
    <p class="text-center" style="max-width: 600px; margin: 0 auto 3rem; color: var(--text-secondary); font-size: 1.1rem;">
        Thoughts, tutorials, and insights on web development, programming, and technology.
    </p>
    
    <!-- Filters -->
    <div class="card mb-2" style="max-width: 600px; margin: 0 auto 3rem;">
        <form hx-get="/blog" hx-target="#post-list" hx-indicator=".htmx-indicator" style="display: flex; gap: 1rem; align-items: center; flex-wrap: wrap;">
            <label for="blog-category-filter" style="color: var(--text-primary); font-weight: 500;">Category:</label>
            <select id="blog-category-filter" name="category" style="flex: 1; min-width: 200px;">
                <option value="">All Categories</option>
                <option value="tech">Tech</option>
                <option value="tutorial">Tutorial</option>
                <option value="career">Career</option>
                <option value="personal">Personal</option>
            </select>
            <button type="submit" class="btn btn-primary" style="padding: 10px 24px;">Apply</button>
        </form>
    </div>

    <!-- Loading Indicator -->
    <div class="htmx-indicator text-center mb-2">
        <div class="spinner" style="margin: 0 auto;"></div>
        <p style="margin-top: 1rem; color: var(--accent-primary);">Loading posts...</p>
    </div>

    <!-- Posts Grid -->
    <div id="post-list" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 2rem;">
        {% include "partials/post_list.html" %}
    </div>
</section>
{% endblock %}
