{% extends "base.html" %}

{% block content %}
<div class="max-w-4xl mx-auto px-6 flex flex-col min-h-screen pt-20">
    
    <!-- Breadcrumbs -->
    <nav class="text-sm text-gray-500 mb-6 fade-in flex items-center justify-between" aria-label="Breadcrumb">
        <ol class="list-none p-0 inline-flex flex-wrap">
            <li class="flex items-center">
                <a href="/" class="hover:text-white transition-colors">Home</a>
            </li>
            <li class="flex items-center">
                <svg class="fill-current w-3 h-3 mx-3 text-gray-600" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"></path></svg>
                <a href="/admin" class="hover:text-white transition-colors capitalize">Admin</a>
            </li>
            <li class="flex items-center">
                <svg class="fill-current w-3 h-3 mx-3 text-gray-600" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"></path></svg>
                <a href="/admin/projects" class="hover:text-white transition-colors capitalize">Projects</a>
            </li>
            <li class="flex items-center">
                <svg class="fill-current w-3 h-3 mx-3 text-gray-600" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"></path></svg>
                <span class="text-gray-300 capitalize">{% if project %}Edit{% else %}New{% endif %}</span>
            </li>
        </ol>
    </nav>

    <main class="flex-grow fade-in py-8">
        <div class="flex items-center justify-between mb-8">
            <h1 class="text-3xl font-bold text-white">{% if project %}Edit Project{% else %}New Project{% endif %}</h1>
            <div class="flex gap-4">
                <a href="/admin/projects" class="px-4 py-2 text-sm font-medium text-gray-400 hover:text-white transition-colors">Cancel</a>
                <button type="submit" form="project-form" class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors flex items-center gap-2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"></path><path d="M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"></path><path d="M7 3v4a1 1 0 0 0 1 1h7"></path></svg>
                    Save Project
                </button>
            </div>
        </div>

        <form id="project-form" method="POST" class="space-y-8">
            <div class="bg-gray-900/50 border border-gray-800 rounded-lg p-6 space-y-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="space-y-2">
                        <label for="title" class="text-sm font-medium text-gray-400">Title</label>
                        <input type="text" id="title" name="title" value="{{ project.title if project else '' }}" required class="w-full bg-gray-900 border border-gray-800 rounded-lg p-2.5 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                    </div>
                    <div class="space-y-2">
                        <label for="slug" class="text-sm font-medium text-gray-400">Slug</label>
                        <input type="text" id="slug" name="slug" value="{{ project.slug if project else '' }}" required class="w-full bg-gray-900 border border-gray-800 rounded-lg p-2.5 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                    </div>
                </div>

                <div class="space-y-2">
                    <label for="description" class="text-sm font-medium text-gray-400">Short Description</label>
                    <textarea id="description" name="description" rows="2" required class="w-full bg-gray-900 border border-gray-800 rounded-lg p-2.5 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent">{{ project.description if project else '' }}</textarea>
                </div>

                <div class="space-y-2">
                    <label for="content" class="text-sm font-medium text-gray-400">Content (Markdown)</label>
                    <textarea id="content" name="content" rows="10" class="w-full bg-gray-900 border border-gray-800 rounded-lg p-4 text-white font-mono text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent">{{ project.content if project else '' }}</textarea>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="space-y-2">
                        <label for="category" class="text-sm font-medium text-gray-400">Category</label>
                        <input type="text" id="category" name="category" value="{{ project.category if project else '' }}" class="w-full bg-gray-900 border border-gray-800 rounded-lg p-2.5 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                    </div>
                    <div class="space-y-2">
                        <label for="image" class="text-sm font-medium text-gray-400">Image URL</label>
                        <input type="url" id="image" name="image" value="{{ project.image if project else '' }}" class="w-full bg-gray-900 border border-gray-800 rounded-lg p-2.5 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="space-y-2">
                        <label for="github_url" class="text-sm font-medium text-gray-400">GitHub URL</label>
                        <input type="url" id="github_url" name="github_url" value="{{ project.github_url if project else '' }}" class="w-full bg-gray-900 border border-gray-800 rounded-lg p-2.5 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                    </div>
                    <div class="space-y-2">
                        <label for="demo_url" class="text-sm font-medium text-gray-400">Demo URL</label>
                        <input type="url" id="demo_url" name="demo_url" value="{{ project.demo_url if project else '' }}" class="w-full bg-gray-900 border border-gray-800 rounded-lg p-2.5 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                    </div>
                </div>

                <div class="space-y-2">
                    <label for="tech_stack" class="text-sm font-medium text-gray-400">Tech Stack (comma separated)</label>
                    <input type="text" id="tech_stack" name="tech_stack" value="{{ project.tech_stack|join(', ') if project and project.tech_stack else '' }}" class="w-full bg-gray-900 border border-gray-800 rounded-lg p-2.5 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                </div>

                <div class="flex items-center gap-2">
                    <input type="checkbox" id="featured" name="featured" value="true" {% if project and project.featured %}checked{% endif %} class="w-4 h-4 bg-gray-900 border-gray-800 rounded text-blue-600 focus:ring-blue-500 focus:ring-offset-gray-900">
                    <label for="featured" class="text-sm font-medium text-gray-400">Featured Project</label>
                </div>
            </div>
        </form>
    </main>
</div>
{% endblock %}
